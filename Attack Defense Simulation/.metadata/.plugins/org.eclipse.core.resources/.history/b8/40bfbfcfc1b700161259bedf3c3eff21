import java.util.*;

public class Game {

	/** results[x][y][z]
	 * 	x = defender (0) or attacker (1)
	 * 	y = defender choice (0-2)
	 *  z = attacker choice (0-2)
	 */
	private int [][][] results =
		{
				{
					{5,0,2},
					{2,1,1},
					{0,3,1}
				},
				{
					{0,4,1},
					{0,1,3},
					{2,0,0}
				}
		};

	Agent attacker, defender;

	void initPlayers(){
		attacker = new Agent();
		defender = new Agent();
	}

	void run(){
		//set settings and run game until all possibilities have been calculated
		round();
	}

	void round(){

		int totalWon = 0, totalLost = 0; 
		List<String> totalScore = new ArrayList<String>(); 
				
		while(!attacker.done){
			while(!defender.done){
				System.out.println("Strat: "+Arrays.toString(attacker.nextStrat()));

				for(int roundCount = 0; roundCount < 3; roundCount++){
					distPoints(attacker.getStrat()[roundCount],defender.getStrat()[roundCount]);

					if(attacker.getScore() > 4){
						totalWon++;
						break;
					}
					else if(defender.getScore() > 4|| roundCount == 2){
						totalLost++;
						break;
					}

				}

				attacker.reset();
				defender.reset();
				defender.nextStrat();
			}
			totalScore.add("Strat:"+Arrays.toString(attacker.getStrat())+" Result: "+totalWon+" - "+totalLost);
			totalWon = 0;
			totalLost = 0;
			attacker.nextStrat();
			defender.done = false;
		}
	}

	void distPoints(int x, int y){
		attacker.addPoints(results[0][x][y]);
		defender.addPoints(results[1][x][y]);
	}
}
