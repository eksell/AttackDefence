import java.util.*;

public class Game {

	/** results[x][y][z]
	 * 	x = defender (0) or attacker (1)
	 * 	y = defender choice (0-2)
	 *  z = attacker choice (0-2)
	 */
	private int [][][] results =
		{
				{
					{5,0,2},
					{2,1,1},
					{0,3,1}
				},
				{
					{0,4,1},
					{0,1,3},
					{2,0,0}
				}
		};

	Agent attacker, defender;

	void initPlayers(){
		attacker = new Agent();
		defender = new Agent();
	}

	void run(){
		//set settings and run game until all possibilities have been calculated
		round();
	}

	void round(){
		while(!attacker.done()){

			//			for loop på rotationer av att och def.. eg.
			//			if(){
			//				attacker.rotateChoice();
			//			}
			//			else{
			//				defender.rotateChoice();
			//			}

			for(int roundCount = 0; roundCount < 3; roundCount++){
				distPoints(attacker.getChoice(roundCount),defender.getChoice(roundCount));

				if(attacker.getScore() > 4){
					attacker.won();
					break;
				}
				else if(defender.getScore() > 4|| roundCount == 2){
					defender.won();
					break;
				}

			}

			attacker.reset();
			defender.reset();



		}
	}

	void distPoints(int x, int y){

		attacker.addPoints(results[0][x][y]);
		defender.addPoints(results[1][x][y]);

		if(attacker.getScore()>4 || defender.getScore() >4){
			if(attacker.getScore()>4) attacker.won();
			else defender.won();
		}

	}
}
